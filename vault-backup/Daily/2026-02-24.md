---
tags: [daily]
date: 2026-02-24
---

# Feb 24, 2026

## Session 1 (morning)
- Full vault reset — wiped all prior knowledge, started fresh with Opus
- Built vault structure: 50+ files across Areas, Resources, Projects, Templates
- Read all 22 Confluence data mapping pages → created integration docs
- Created Integration Registry with all 25 integrations
- Backed up vault to GitHub (commit c49b8e5)

## Session 2 (afternoon — 4-phase knowledge build)

### P1: Tap Source Code Analysis
- Cloned all 22 taps to ~/optiply-workspace/tap-sources/
- 3 sub-agents analyzed all taps in parallel (~3-4 min each)
- Extracted: base URLs, auth methods, endpoints, pagination, rate limits, error handling
- Key findings: 4 auth patterns (OAuth2, Basic, API key, SOAP), OData/cursor/page/report pagination

### P2: API Reference Docs
- 3 sub-agents enriched all 23 vault docs with ## API Reference + ## ETL Summary
- Exact Online missed by batch1 (wrong filename) → patched manually
- Amazon Vendor Central doc created from scratch

### P3: RAG System v2
- Schema upgraded: source_path, section, content_hash, updated_at
- Built ingest_vault_v2.py: section-level chunking, hash dedup, incremental sync
- Built rag_v2.py: source_path in responses, filtering, /health, /stats
- Ingested 415 chunks from 52 files
- Swapped launchd to rag_v2, verified working

### P4: ETL Cross-Comparison
- 3 sub-agents analyzed all 25 ETL notebooks
- ~80% use old pattern, only Sherpaan + BigCommerce on new Generic template
- Exact most complex (all 7 entities, 30+ flags), WooCommerce simplest (Products only)

## Decisions
- Obsidian + RAG complementary: vault = source of truth, RAG = search layer
- Section-level chunking > arbitrary char splits
- Every chunk links back to Obsidian via source_path

## Rules Learned
- Sub-agents need exact filenames (e.g. "Exact Online.md" not "Exact.md")
- Old rag.py process (PID) can linger — kill explicitly before swapping
- RLS policy requires SET app.tenant_id in all queries including health/stats
